<!DOCTYPE html><html><head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="static/style.css">
	<title>Flourish template: Basic slide</title></head>
	<body aria-hidden="true">
		<div id="wrapper"></div>
	

<script>window.Flourish = {"static_prefix":"static","environment":"live"};</script><script>!function(t){"use strict";function e(t,e){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),i="";return i+=parseInt(n[1],16)+",",i+=parseInt(n[2],16)+",",i+=parseInt(n[3],16)+",",i+=Number(e/100)}function n(){var t=this;this.props={hasText:_t.show_title||_t.show_subtitle||_t.show_text,isPhoto:"image"==_t.media_type,editable:"story_editor"===Flourish.environment||"sdk"===Flourish.environment,text_background:e(_t.text_background_color,_t.text_background_opacity)},this.html=vt.render(yt,{state:_t,props:t.props}),this.stopMedia=function(){setTimeout(function(){t.el.querySelector(".video-container")&&(t.el.querySelector(".video-container").innerHTML="")},500)},this.render=function(){var t=document.createElement("div");t.innerHTML=this.html;for(var e=t.querySelectorAll("a[href]"),n=0;n<e.length;n++)e[n].rel="nofollow";return this.el=t.firstChild,this.el}}function i(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===wt&&e.documentElement.namespaceURI===wt?e.createElement(t):e.createElementNS(n,t)}}function o(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function r(){}function a(){return[]}function s(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function l(t,e,n,i,o,r){for(var a,l=0,u=e.length,c=r.length;l<c;++l)(a=e[l])?(a.__data__=r[l],i[l]=a):n[l]=new s(t,r[l]);for(;l<u;++l)(a=e[l])&&(o[l]=a)}function u(t,e,n,i,o,r,a){var l,u,c,h={},p=e.length,d=r.length,f=new Array(p);for(l=0;l<p;++l)(u=e[l])&&(f[l]=c=Nt+a.call(u,u.__data__,l,e),c in h?o[l]=u:h[c]=u);for(l=0;l<d;++l)c=Nt+a.call(t,r[l],l,r),(u=h[c])?(i[l]=u,u.__data__=r[l],h[c]=null):n[l]=new s(t,r[l]);for(l=0;l<p;++l)(u=e[l])&&h[f[l]]===u&&(o[l]=u)}function c(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function h(t){return function(){this.removeAttribute(t)}}function p(t){return function(){this.removeAttributeNS(t.space,t.local)}}function d(t,e){return function(){this.setAttribute(t,e)}}function f(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function _(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function g(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function m(t){return function(){this.style.removeProperty(t)}}function v(t,e,n){return function(){this.style.setProperty(t,e,n)}}function y(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function w(t,e){return t.style.getPropertyValue(e)||$t(t).getComputedStyle(t,null).getPropertyValue(e)}function b(t){return function(){delete this[t]}}function x(t,e){return function(){this[t]=e}}function k(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function A(t){return t.trim().split(/^|\s+/)}function S(t){return t.classList||new E(t)}function E(t){this._node=t,this._names=A(t.getAttribute("class")||"")}function C(t,e){for(var n=S(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function T(t,e){for(var n=S(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function z(t){return function(){C(this,t)}}function F(t){return function(){T(this,t)}}function q(t,e){return function(){(e.apply(this,arguments)?C:T)(this,t)}}function B(){this.textContent=""}function N(t){return function(){this.textContent=t}}function R(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function P(){this.innerHTML=""}function L(t){return function(){this.innerHTML=t}}function U(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function I(){this.nextSibling&&this.parentNode.appendChild(this)}function M(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function H(){return null}function O(){var t=this.parentNode;t&&t.removeChild(this)}function V(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function j(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function D(t,e,n){return t=W(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function W(t,e,n){return function(i){var o=se;se=i;try{t.call(this,this.__data__,e,n)}finally{se=o}}}function Q(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function $(t){return function(){var e=this.__on;if(e){for(var n,i=0,o=-1,r=e.length;i<r;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function X(t,e,n){var i=ae.hasOwnProperty(t.type)?D:W;return function(o,r,a){var s,l=this.__on,u=i(e,r,a);if(l)for(var c=0,h=l.length;c<h;++c)if((s=l[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=e);this.addEventListener(t.type,u,n),s={type:t.type,name:t.name,value:e,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function G(t,e,n){var i=$t(t),o=i.CustomEvent;"function"==typeof o?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function J(t,e){return function(){return G(this,t,e)}}function K(t,e){return function(){return G(this,t,e.apply(this,arguments))}}function Y(t,e){this._groups=t,this._parents=e}function Z(){return new Y([[document.documentElement]],ce)}function tt(){for(var t=document.querySelectorAll("input[type=url]"),e=0;e<t.length;e++)et(t[e])}function et(t){var e=t.ownerDocument,n=e.createElement("button");n.type="button",n.className="upload",n.setAttribute("title","Upload a file from your computer"),n.innerHTML=ge,t.insertAdjacentElement("afterend",n),n.onclick=nt}function nt(){var t=this.previousSibling;Flourish.uploadImage({name:t.getAttribute("data-property"),accept:t.getAttribute("accept")})}function it(){var t=fe(".slide-container[data-status='new']"),e=t.select("#slide-media"),n=t.select("#slide-content-foreground").append("div").attr("class","btn-container");t.append("button").attr("data-el","main").attr("class","settings-btn icon-columns").attr("data-settings","slide_layout,height_mode,height_ratio,slide_margin,background_color"),e.append("button").attr("data-el","media").attr("class","settings-btn icon-image").attr("data-settings","show_media,media_type,video_url,photo_url,photo_size,photo_position,video_size,video_autoplay,video_controls"),n.append("button").attr("data-el","content").attr("class","settings-btn icon-pen").attr("data-settings","text_background_color,text_background_size,text_background_opacity,text_align,text_color,text_position"),_e(".settings-btn").on("click",at).classed("selected",function(){return fe(this).attr("data-el")==pe})}function ot(){he=fe("#wrapper").append("div").attr("id","settings-panel"),he.append("div").attr("id","settings-background"),he.append("div").attr("id","settings-foreground"),fe("#settings-background").on("click",rt)}function rt(){fe("#settings-panel").classed("visible",!1),fe(".settings-btn.selected").classed("selected",!1),pe=null}function at(){pe=fe(this).attr("data-el"),he.classed("visible",!0),fe(this).classed("selected",!0),he.style("top",0);var t=se.clientX>window.innerWidth/2?"right":"left",e="right"==t?"left":"right";he.style(e,"auto"),"left"==t?he.style("left",this.getBoundingClientRect().left+this.getBoundingClientRect().width+10+"px"):he.style("right",window.innerWidth-this.getBoundingClientRect().left+10+"px"),st(this);var n;n=this.getBoundingClientRect().top+he.node().getBoundingClientRect().height>fe(".slide-container").node().getBoundingClientRect().height?window.innerHeight-he.node().getBoundingClientRect().height-10:this.getBoundingClientRect().y,he.style("top",n+"px")}function st(t){he.select("#settings-foreground").html("");var e=fe(t).attr("data-settings").split(","),n=he.select("#settings-foreground").selectAll(".setting-container").data(e).enter().append("div").attr("class",function(t){var e="setting-container type-"+me[t].type;return me[t].width&&(e+=" width-"+me[t].width),e});n.each(function(t){if(me[t]){if(me[t].show_if)if("object"==typeof me[t].show_if[1]){var e=!1;if(me[t].show_if[1].forEach(function(n){_t[me[t].show_if[0]]==n&&(e=!0)}),!e)return!1}else if(_t[me[t].show_if[0]]!==me[t].show_if[1])return;if("checkbox"!==me[t].type&&fe(this).append("p").text(me[t].name).attr("class","label-title"),"dropdown"==me[t].type){var n=fe(this).append("select");n.selectAll("option").data(me[t].options).enter().append("option").attr("value",function(t){return t.id}).attr("selected",function(e){return e.id==_t[t]?"selected":null}).text(function(t){return t.name}),n.on("change",function(t){_t[t]=se.target.value,we(me[t].type)})}else if("button_group"==me[t].type){var i=fe(this).append("div").attr("class","button-group");i.selectAll("button").data(me[t].options).enter().append("button").attr("data-value",function(t){return t.id}).classed("selected",function(e){return e.id===_t[t]}).style("width",100/me[t].options.length+"%").html(function(t){return t.name.indexOf("icon::")>-1?lt(t.name):t.name}),i.selectAll("button").on("click",function(){var e=this.getAttribute("data-value");"false"==e&&(e=!1),"true"==e&&(e=!0),_t[t]=e,we(me[t].type)})}else if("keypad"==me[t].type){var o=fe(this).append("div").attr("class","keypad"),r=["top-left","top-center","top-right","center-left","center-center","center-right","bottom-left","bottom-center","bottom-right"].filter(function(e){return"text-overlay"==_t.slide_layout||"photo_position"==t||("text-top"==_t.slide_layout||"text-bottom"==_t.slide_layout?e.split("-")[0]==_t[t+"_v"]:"text-left"==_t.slide_layout||"text-right"==_t.slide_layout?e.split("-")[1]==_t[t+"_h"]:void 0)});o.classed("vertical","text_position"==t&&("text-left"==_t.slide_layout||"text-right"==_t.slide_layout));var a=o.selectAll(".position").data(r).enter().append("p").attr("class",function(t){return"position "+t}).classed("selected",function(e){return _t[t]==e});a.append("input").attr("type","radio").attr("value",function(t){return t}).attr("name",me[t].name),a.append("label"),a.on("click",function(){_t[t]=fe(this).select("input").node().value,_t[t+"_v"]=_t[t].split("-")[0],_t[t+"_h"]=_t[t].split("-")[1],we(me[t].type)})}else fe(this).append("input").attr("type",function(){return me[t].type}).attr("value",function(){return _t[t]}).attr("checked",function(){return"checkbox"!==me[t].type?null:_t[t]?"checked":null}).attr("data-property",function(){return t}).on("change",function(){"checkbox"==me[t].type?_t[t]=!_t[t]:_t[t]=se.target.value,we(me[t].type)})}}),n.each(function(t){me[t]&&"checkbox"==me[t].type&&fe(this).append("label").text(me[t].name)}),tt()}function lt(t){var e=t.replace("icon::","");return"<img src='"+Flourish.static_prefix+"/"+e+"' />"}function ut(t){fe(".settings-btn.selected").node()&&"color"!=t&&st(fe(".settings-btn.selected").node()),_e(".settings-btn").remove(),it()}function ct(){ot()}function ht(t){function e(){var e=fe(t).selectAll(".no-edit");0!==e.size()&&e.each(function(){var t=new Quill(this,{modules:{toolbar:[["bold","italic","underline"],["link"]],keyboard:{bindings:{tab:{key:9,handler:function(){return!0}}}}},placeholder:"",theme:"bubble"});Quill.import("formats/link").sanitize=function(t){return/^https?:\/\//.test(t)?t:"https://"+t},t.container.classList.remove("no-edit"),t.on("text-change",function(){var e=t.container.getAttribute("data-content");_t[e]=t.container.firstChild.innerHTML,dt()}),fe(this).append("span").attr("class","text-toggle").on("click",function(){var t=this.parentElement.getAttribute("data-content");_t["show_"+t]=!_t["show_"+t],we()})})}if(document.querySelector("#Quill-script"))e();else{var n=document.createElement("script");n.src=Flourish.static_prefix+"/quill.min.js",n.id="Quill-script",document.body.appendChild(n),n.onload=e}}function pt(){var t=0,e=null,n=ye.querySelector("div[data-status='new']"),i=function(o){e||(e=o);var r=o-e;t=r/500,n.style.opacity=t,r<500&&window.requestAnimationFrame(i)};window.requestAnimationFrame(i)}function dt(){"aspect_ratio"==_t.height_mode?Flourish.setHeight(1*window.innerWidth/_t.height_ratio):Flourish.setHeight(null);var t=ye.querySelector(".slide-container[data-status='new']"),e=t.querySelector("#slide-content"),n=window.getComputedStyle(e),i=e.querySelector("#slide-content-foreground"),o=ft(),r=i.getBoundingClientRect().height,a=parseInt(n.marginTop)+parseInt(n.marginBottom),s=1,l=0;if("text-top"!=_t.slide_layout&&"text-bottom"!=_t.slide_layout||(s=_t.show_media?.5:1,l=1-s),r>o*s)if(Flourish.fixed_height||"aspect_ratio"==_t.height_mode)t.style.overflow="auto";else{var u=o*l,c=u+r+a;Flourish.setHeight(c)}else Flourish.fixed_height||"aspect_ratio"==_t.height_mode?t.style.overflow="":Flourish.setHeight(null)}function ft(){if(Flourish.fixed_height)return window.innerHeight;var t=window.innerWidth;return t>999?650:t>599?575:400}var _t={editable:"story_editor"===Flourish.environment||"sdk"===Flourish.environment,slide_layout:"text-top",slide_margin:"0px",height_mode:"auto",height_ratio:1.33,show_title:!0,show_subtitle:!0,show_text:!0,show_media:!0,title:"<strong>Title</strong>",subtitle:"Subtitle",text:"Text",show_logo_in_media:!1,logo_url:"",background_color:"#ffffff",text_background_color:"#ffffff",text_background_opacity:80,text_background_size:"full",text_color:"#333333",text_align:"left",text_position:"center-center",text_position_h:"center",text_position_v:"center",media_type:"image",photo_url:"https://storage.googleapis.com/coverr-public/poster/Mt_Baker.jpg",photo_size:"cover",photo_position:"center-center",photo_position_h:"center",photo_position_v:"center",video_url:"https://public.flourish.studio/uploads/9e8af696-efce-44c6-9590-cdc6cfb99003.mp4",video_size:"cover",video_autoplay:!0,video_controls:!1},gt={},mt="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},vt=function(t,e){return e={exports:{}},t(e,e.exports),e.exports}(function(t,e){!function(t,n){e&&"string"!=typeof e.nodeName?n(e):(t.Mustache={},n(t.Mustache))}(mt,function(t){function e(t){return"function"==typeof t}function n(t){return _(t)?"array":typeof t}function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t,e){return null!=t&&"object"==typeof t&&e in t}function r(t,e){return g.call(t,e)}function a(t){return!r(m,t)}function s(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return v[t]})}function l(e,n){function o(t){if("string"==typeof t&&(t=t.split(w,2)),!_(t)||2!==t.length)throw new Error("Invalid tags: "+t);r=new RegExp(i(t[0])+"\\s*"),s=new RegExp("\\s*"+i(t[1])),l=new RegExp("\\s*"+i("}"+t[1]))}if(!e)return[];var r,s,l,p=[],d=[],f=[],g=!1,m=!1;o(n||t.tags);for(var v,A,S,E,C,T,z=new h(e);!z.eos();){if(v=z.pos,S=z.scanUntil(r))for(var F=0,q=S.length;F<q;++F)E=S.charAt(F),a(E)?f.push(d.length):m=!0,d.push(["text",E,v,v+1]),v+=1,"\n"===E&&function(){if(g&&!m)for(;f.length;)delete d[f.pop()];else f=[];g=!1,m=!1}();if(!z.scan(r))break;if(g=!0,A=z.scan(k)||"name",z.scan(y),"="===A?(S=z.scanUntil(b),z.scan(b),z.scanUntil(s)):"{"===A?(S=z.scanUntil(l),z.scan(x),z.scanUntil(s),A="&"):S=z.scanUntil(s),!z.scan(s))throw new Error("Unclosed tag at "+z.pos);if(C=[A,S,v,z.pos],d.push(C),"#"===A||"^"===A)p.push(C);else if("/"===A){if(!(T=p.pop()))throw new Error('Unopened section "'+S+'" at '+v);if(T[1]!==S)throw new Error('Unclosed section "'+T[1]+'" at '+v)}else"name"===A||"{"===A||"&"===A?m=!0:"="===A&&o(S)}if(T=p.pop())throw new Error('Unclosed section "'+T[1]+'" at '+z.pos);return c(u(d))}function u(t){for(var e,n,i=[],o=0,r=t.length;o<r;++o)(e=t[o])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(i.push(e),n=e));return i}function c(t){for(var e,n,i=[],o=i,r=[],a=0,s=t.length;a<s;++a)switch(e=t[a],e[0]){case"#":case"^":o.push(e),r.push(e),o=e[4]=[];break;case"/":n=r.pop(),n[5]=e[2],o=r.length>0?r[r.length-1][4]:i;break;default:o.push(e)}return i}function h(t){this.string=t,this.tail=t,this.pos=0}function p(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function d(){this.cache={}}var f=Object.prototype.toString,_=Array.isArray||function(t){return"[object Array]"===f.call(t)},g=RegExp.prototype.test,m=/\S/,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},y=/\s*/,w=/\s+/,b=/\s*=/,x=/\s*\}/,k=/#|\^|\/|>|\{|&|=|!/;h.prototype.eos=function(){return""===this.tail},h.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},h.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},p.prototype.push=function(t){return new p(t,this)},p.prototype.lookup=function(t){var n,i=this.cache;if(i.hasOwnProperty(t))n=i[t];else{for(var r,a,s=this,l=!1;s;){if(t.indexOf(".")>0)for(n=s.view,r=t.split("."),a=0;null!=n&&a<r.length;)a===r.length-1&&(l=o(n,r[a])),n=n[r[a++]];else n=s.view[t],l=o(s.view,t);if(l)break;s=s.parent}i[t]=n}return e(n)&&(n=n.call(this.view)),n},d.prototype.clearCache=function(){this.cache={}},d.prototype.parse=function(t,e){var n=this.cache,i=n[t];return null==i&&(i=n[t]=l(t,e)),i},d.prototype.render=function(t,e,n){var i=this.parse(t),o=e instanceof p?e:new p(e);return this.renderTokens(i,o,n,t)},d.prototype.renderTokens=function(t,e,n,i){for(var o,r,a,s="",l=0,u=t.length;l<u;++l)a=void 0,o=t[l],r=o[0],"#"===r?a=this.renderSection(o,e,n,i):"^"===r?a=this.renderInverted(o,e,n,i):">"===r?a=this.renderPartial(o,e,n,i):"&"===r?a=this.unescapedValue(o,e):"name"===r?a=this.escapedValue(o,e):"text"===r&&(a=this.rawValue(o)),void 0!==a&&(s+=a);return s},d.prototype.renderSection=function(t,n,i,o){function r(t){return a.render(t,n,i)}var a=this,s="",l=n.lookup(t[1]);if(l){if(_(l))for(var u=0,c=l.length;u<c;++u)s+=this.renderTokens(t[4],n.push(l[u]),i,o);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)s+=this.renderTokens(t[4],n.push(l),i,o);else if(e(l)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");l=l.call(n.view,o.slice(t[3],t[5]),r),null!=l&&(s+=l)}else s+=this.renderTokens(t[4],n,i,o);return s}},d.prototype.renderInverted=function(t,e,n,i){var o=e.lookup(t[1]);if(!o||_(o)&&0===o.length)return this.renderTokens(t[4],e,n,i)},d.prototype.renderPartial=function(t,n,i){if(i){var o=e(i)?i(t[1]):i[t[1]];return null!=o?this.renderTokens(this.parse(o),n,i,o):void 0}},d.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},d.prototype.escapedValue=function(e,n){var i=n.lookup(e[1]);if(null!=i)return t.escape(i)},d.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.3.2",t.tags=["{{","}}"];var A=new d;return t.clearCache=function(){return A.clearCache()},t.parse=function(t,e){return A.parse(t,e)},t.render=function(t,e,i){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+n(t)+'" was given as the first argument for mustache#render(template, view, partials)');return A.render(t,e,i)},t.to_html=function(n,i,o,r){var a=t.render(n,i,o);if(!e(r))return a;r(a)},t.escape=s,t.Scanner=h,t.Context=p,t.Writer=d,t})}),yt='<div class="slide-container theme-{{state.slide_layout}} text-horizontal-{{state.text_position_h}} text-vertical-{{state.text_position_v}}" data-status="new" style="opacity:0; background-color: {{ state.background_color }}; padding: {{ state.slide_margin }}">\n\t<div id="slide-media">\n\t\t{{#state.show_media}}\n\t\t\t{{# props.isPhoto}}\n\t\t\t\t<div id="slide-media-photo" class="size-{{state.photo_size}}" style="background-image: url(\'{{state.photo_url}}\'); background-size: {{state.photo_size}}; background-position: {{state.photo_position_h}} {{state.photo_position_v}};"></div>\n\t\t\t{{/ props.isPhoto}}\n\t\t\t{{^ props.isPhoto}}\n\t\t\t\t<div class="slide-media-video size-{{state.video_size}}">\n\t\t\t\t\t<video src="{{state.video_url}}" loop{{#state.video_autoplay}} muted autoplay="true" {{/state.video_autoplay}}{{#state.video_controls}} controls {{/state.video_controls}}></video>\n\t\t\t\t</div> \n\t\t\t{{/ props.isPhoto}}\n\t\t\t{{#state.show_logo_in_media}}\n\t\t\t\t<img id="slide-media-logo" src="{{state.logo_url}}">\n\t\t\t{{/state.show_logo_in_media}}\n\t\t{{/state.show_media}}\n\t</div>\n\t<div id="slide-content" style="color: {{state.text_color}}; text-align: {{state.text_align}};" class="align-v-{{state.text_position_v}} align-h-{{state.text_position_h}} {{^props.hasText}}invisible{{/props.hasText}}">\n\t\t<div id="slide-content-background" class="size-{{state.text_background_size}}" style="background-color:rgba({{props.text_background}});"></div>\n\t\t<div id="slide-content-foreground">\n\t\t\t<h1 data-content="title" class="{{# props.editable}}no-edit editable{{/ props.editable}}{{^ props.editable}}{{/ props.editable}}{{^state.show_title}} invisible{{/state.show_title}}"><span>{{{state.title}}}</span></h1>\n\t\t\t<h2 data-content="subtitle" class="{{# props.editable}}no-edit editable{{/ props.editable}}{{^ props.editable}}{{/ props.editable}}{{^state.show_subtitle}} invisible{{/state.show_subtitle}}"><span>{{{state.subtitle}}}</span></h2>\n\t\t\t<div id="body-text" data-content="text" class="{{# props.editable}}no-edit editable{{/ props.editable}}{{^ props.editable}}{{/ props.editable}}{{^state.show_text}} invisible{{/state.show_text}}">{{{state.text}}}</div>\n\t\t</div>\n\t</div>\n</div>',wt="http://www.w3.org/1999/xhtml",bt={svg:"http://www.w3.org/2000/svg",xhtml:wt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),bt.hasOwnProperty(e)?{space:bt[e],local:t}:t},kt=function(t){var e=xt(t);return(e.local?o:i)(e)},At=function(t){return null==t?r:function(){return this.querySelector(t)}},St=function(t){"function"!=typeof t&&(t=At(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,a,s=e[o],l=s.length,u=i[o]=new Array(l),c=0;c<l;++c)(r=s[c])&&(a=t.call(r,r.__data__,c,s))&&("__data__"in r&&(a.__data__=r.__data__),u[c]=a);return new Y(i,this._parents)},Et=function(t){return null==t?a:function(){return this.querySelectorAll(t)}},Ct=function(t){"function"!=typeof t&&(t=Et(t));for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var a,s=e[r],l=s.length,u=0;u<l;++u)(a=s[u])&&(i.push(t.call(a,a.__data__,u,s)),o.push(a));return new Y(i,o)},Tt=function(t){return function(){return this.matches(t)}},zt=function(t){"function"!=typeof t&&(t=Tt(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,a=e[o],s=a.length,l=i[o]=[],u=0;u<s;++u)(r=a[u])&&t.call(r,r.__data__,u,a)&&l.push(r);return new Y(i,this._parents)},Ft=function(t){return new Array(t.length)},qt=function(){return new Y(this._enter||this._groups.map(Ft),this._parents)};s.prototype={constructor:s,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Bt=function(t){return function(){return t}},Nt="$",Rt=function(t,e){if(!t)return _=new Array(this.size()),h=-1,this.each(function(t){_[++h]=t}),_;var n=e?u:l,i=this._parents,o=this._groups;"function"!=typeof t&&(t=Bt(t));for(var r=o.length,a=new Array(r),s=new Array(r),c=new Array(r),h=0;h<r;++h){var p=i[h],d=o[h],f=d.length,_=t.call(p,p&&p.__data__,h,i),g=_.length,m=s[h]=new Array(g),v=a[h]=new Array(g);n(p,d,m,v,c[h]=new Array(f),_,e);for(var y,w,b=0,x=0;b<g;++b)if(y=m[b]){for(b>=x&&(x=b+1);!(w=v[x])&&++x<g;);y._next=w||null}}return a=new Y(a,i),a._enter=s,a._exit=c,a},Pt=function(){return new Y(this._exit||this._groups.map(Ft),this._parents)},Lt=function(t,e,n){var i=this.enter(),o=this,r=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(o=e(o)),null==n?r.remove():n(r),i&&o?i.merge(o).order():o},Ut=function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),a=new Array(i),s=0;s<r;++s)for(var l,u=e[s],c=n[s],h=u.length,p=a[s]=new Array(h),d=0;d<h;++d)(l=u[d]||c[d])&&(p[d]=l);for(;s<i;++s)a[s]=e[s];return new Y(a,this._parents)},It=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,o=t[e],r=o.length-1,a=o[r];--r>=0;)(i=o[r])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},Mt=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=c);for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var a,s=n[r],l=s.length,u=o[r]=new Array(l),h=0;h<l;++h)(a=s[h])&&(u[h]=a);u.sort(e)}return new Y(o,this._parents).order()},Ht=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Ot=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},Vt=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var a=i[o];if(a)return a}return null},jt=function(){var t=0;return this.each(function(){++t}),t},Dt=function(){return!this.node()},Wt=function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o,r=e[n],a=0,s=r.length;a<s;++a)(o=r[a])&&t.call(o,o.__data__,a,r);return this},Qt=function(t,e){var n=xt(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?p:h:"function"==typeof e?n.local?g:_:n.local?f:d)(n,e))},$t=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},Xt=function(t,e,n){return arguments.length>1?this.each((null==e?m:"function"==typeof e?y:v)(t,e,null==n?"":n)):w(this.node(),t)},Gt=function(t,e){return arguments.length>1?this.each((null==e?b:"function"==typeof e?k:x)(t,e)):this.node()[t]};E.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Jt=function(t,e){var n=A(t+"");if(arguments.length<2){for(var i=S(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?q:e?z:F)(n,e))},Kt=function(t){return arguments.length?this.each(null==t?B:("function"==typeof t?R:N)(t)):this.node().textContent},Yt=function(t){return arguments.length?this.each(null==t?P:("function"==typeof t?U:L)(t)):this.node().innerHTML},Zt=function(){return this.each(I)},te=function(){return this.each(M)},ee=function(t){var e="function"==typeof t?t:kt(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},ne=function(t,e){var n="function"==typeof t?t:kt(t),i=null==e?H:"function"==typeof e?e:At(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},ie=function(){return this.each(O)},oe=function(t){return this.select(t?j:V)},re=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},ae={},se=null;if("undefined"!=typeof document){"onmouseenter"in document.documentElement||(ae={mouseenter:"mouseover",mouseleave:"mouseout"})}var le=function(t,e,n){var i,o,r=Q(t+""),a=r.length;{if(!(arguments.length<2)){for(s=e?X:$,null==n&&(n=!1),i=0;i<a;++i)this.each(s(r[i],e,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(i=0,l=s[u];i<a;++i)if((o=r[i]).type===l.type&&o.name===l.name)return l.value}},ue=function(t,e){return this.each(("function"==typeof e?K:J)(t,e))},ce=[null];Y.prototype=Z.prototype={constructor:Y,select:St,selectAll:Ct,filter:zt,data:Rt,enter:qt,exit:Pt,join:Lt,merge:Ut,order:It,sort:Mt,call:Ht,nodes:Ot,node:Vt,size:jt,empty:Dt,each:Wt,attr:Qt,style:Xt,property:Gt,classed:Jt,text:Kt,html:Yt,raise:Zt,lower:te,append:ee,insert:ne,remove:ie,clone:oe,datum:re,on:le,dispatch:ue};var he,pe,de,fe=function(t){return"string"==typeof t?new Y([[document.querySelector(t)]],[document.documentElement]):new Y([[t]],ce)},_e=function(t){return"string"==typeof t?new Y([document.querySelectorAll(t)],[document.documentElement]):new Y([null==t?[]:t],ce)},ge="⬆︎",me={show_title:{type:"checkbox",name:"Show title"},show_subtitle:{type:"checkbox",name:"Show subtitle"},show_text:{type:"checkbox",name:"Show text"},show_media:{type:"checkbox",name:"Show media"},background_color:{type:"color",name:"Background color",show_if:["slide_layout",["text-top","text-bottom","text-left","text-right"]],width:"half"},slide_margin:{type:"string",name:"Slide margin",width:"half"},slide_layout:{type:"button_group",name:"Layout",options:[{id:"text-top",name:"icon::icon_text-top.png"},{id:"text-bottom",name:"icon::icon_text-bottom.png"},{id:"text-left",name:"icon::icon_text-left.png"},{id:"text-right",name:"icon::icon_text-right.png"},{id:"text-overlay",name:"icon::icon_text-overlay.png"}]},height_mode:{type:"button_group",name:"Height mode",options:[{id:"auto",name:"Auto"},{id:"aspect_ratio",name:"Aspect Ratio"}]},height_ratio:{type:"number",name:"Aspect ratio",width:"half",show_if:["height_mode","aspect_ratio"]},media_type:{type:"button_group",name:"Media type",options:[{id:"video",name:"Video"},{id:"image",name:"Image"}]},video_url:{type:"url",name:"Video URL",show_if:["media_type","video"]},photo_url:{type:"url",name:"Photo URL",show_if:["media_type","image"]},photo_size:{type:"dropdown",name:"Image size",show_if:["media_type","image"],options:[{id:"auto",name:"Original"},{id:"cover",name:"Fill"},{id:"contain",name:"Fit"},{id:"100% 100%",name:"Stretch"}]},video_autoplay:{type:"button_group",name:"Autoplay video",show_if:["media_type","video"],options:[{id:!0,name:"autoplay (muted)"},{id:!1,name:"no autoplay"}]},video_controls:{type:"button_group",name:"Video controls",show_if:["media_type","video"],options:[{id:!0,name:"On"},{id:!1,name:"Off"}]},video_size:{type:"dropdown",name:"Video size",show_if:["media_type","video"],options:[{id:"cover",name:"Fill"},{id:"width",name:"Fit width"},{id:"height",name:"Fit height"}]},text_background_color:{type:"color",name:"Background color",show_if:["slide_layout","text-overlay"]},text_background_opacity:{type:"number",name:"Background opacity",show_if:["slide_layout","text-overlay"]},text_background_size:{type:"dropdown",name:"Background size",show_if:["slide_layout","text-overlay"],options:[{id:"full",name:"Whole slide"},{id:"text",name:"Text"}]},text_color:{type:"color",name:"Text color",width:"half"},text_align:{type:"button_group",name:"Text align",options:[{id:"left",name:"icon::icon_align-left.svg"},{id:"center",name:"icon::icon_align-center.svg"},{id:"right",name:"icon::icon_align-right.svg"}]},photo_position:{type:"keypad",name:"Image position",show_if:["media_type","image"]},text_position:{type:"keypad",name:"Text position",width:"half"}},ve=[],ye=document.querySelector("#wrapper"),we=function(t){if(ve.length>1){var e=ye.querySelector("[data-status='remove']");e.parentElement.removeChild(e),ve.shift()}if(ve.length>0){ye.querySelector("div[data-status='new']").dataset.status="remove",ve[0].stopMedia()}var i=new n;ve.push(i);var o=i.render();ye.appendChild(o),pt(),"story_editor"!==Flourish.environment&&"sdk"!==Flourish.environment||(ut(t),ht(o)),dt()},be=function(){"story_editor"!==Flourish.environment&&"sdk"!==Flourish.environment||(document.body.className="editor-view",ct()),we(),window.onresize=function(){window.innerWidth!=de&&(dt(),
de=window.innerWidth)}};t.state=_t,t.data=gt,t.draw=be,t.update=we}(this.template=this.template||{});
//# sourceMappingURL=template.js.map
</script><script>
var path = document.location.href.match(/\/visualisation\/(\d+)/);
if (path) {
	path = path[0];
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	ga("create", "UA-44635456-19", "auto", { storage: "none" });
	ga("set", "transport", "beacon");
	ga("set", "dimension1", path.substr(1));
	ga("set", "dimension2", new Date().toISOString());
	ga("send", "pageview", path);
}</script><script src="https://public.flourish.studio/resources/v3/embedded.js"></script><script>
window.addEventListener("message", function(event) {

	var a = document.createElement("a");
	a.href = event.origin;
	var origin_okay = (a.hostname == window.location.hostname)
		|| window.location.hostname === "localhost"
		|| (a.hostname.match(/\.flourish\.local$/) && window.location.hostname.match(/\.flourish\.local$/))
		|| (a.hostname.match(/\.flourish\.net$/) && window.location.hostname.match(/\.flourish\.net$/))
		|| (a.hostname.match(/\.flourish\.rocks$/) && window.location.hostname.match(/\.flourish\.rocks$/))
		|| (a.hostname.match(/\.flourish\.studio$/) && window.location.hostname.match(/\.flourish\.studio$/))
		|| (
			(a.hostname == "public.flourish.studio" && window.location.hostname == "flo.uri.sh")
			|| (a.hostname == "public.flourish.rocks" && window.location.hostname == "staging-flo.uri.sh")
			|| (a.hostname == "public.dev.flourish.rocks" && window.location.hostname == "dev-flo.uri.sh")
		);

	if (!origin_okay) return;

	var message = event.data;
	var port = event.ports[0];
	if (!port || typeof message !== "object" || message.sender !== "Flourish") return;
	var result = null;
	function assign(target, source) {
		for (var k in source) {
			if (source.hasOwnProperty(k)) target[k] = source[k];
		}
	}
	function deepAssign(target, source, is_destructive) {
		for (var k in source) {
			if (!source.hasOwnProperty(k)) continue;
			if (
				typeof target[k] === "object" && target[k] != null && !Array.isArray(target[k])
				&& typeof source[k] === "object" && source[k] != null && !Array.isArray(source[k])
			) {
				deepAssign(target[k], source[k], is_destructive);
			}
			else target[k] = source[k];
		}
		if (is_destructive) {
			for (var k in target) {
				if (target.hasOwnProperty(k) && !source.hasOwnProperty(k)) delete target[k];
			}
		}
	}
	try {
		var i, a;
		switch(message.method) {
			case "getState":
			result = window.template.state;
			if (message.argument) for (a = message.argument.split("."), i = 0; i < a.length; i++) {
				result = result[a[i]];
			}
			break;

			case "setState":
			deepAssign(window.template.state, message.argument);
			break;

			case "hasData":
			result = !!window.template.data;
			break;

			case "setData":
			assign(window.template.data, message.argument);
			break;

			case "getData":
			result = window.template.data;
			break;

			case "draw":
			window.template.draw();
			break;

			case "update":
			window.template.update();
			break;

			case "snapshot":
			result = window.snapshot(message.argument, port);
			break;

			case "setFixedHeight":
			if (window.Flourish) {
				window.Flourish.fixed_height = message.argument != null;
				window.Flourish.__container_height = message.argument;
				if (window.Flourish.checkHeight) window.Flourish.checkHeight();
			}
			break;

			case "sync":
			var spec = message.argument;
			if (spec.data) {
				assign(window.template.data, spec.data);
			}
			if (spec.state) {
				deepAssign(window.template.state, spec.state, spec.overwrite_state);
			}
			// only allow draw or update, not both
			if (spec.draw) {
				window.template.draw();
			}
			else if (spec.update) {
				window.template.update();
			}
			result = "success";
			break;
		}

		port.postMessage({result: result});
	}
	catch (e) {
		port.postMessage({error: e.message});
		throw e;
	}
}, false);
</script></body></html>